import zipfile
import os

# Pfad zur hochgeladenen Datei und Zielpfad für die Extraktion
uploaded_file_path = "/mnt/data/Markus-Ernst-Webseite-main (3).zip"
extract_path = "/mnt/data/Markus-Ernst-Webseite-extracted"

# Extrahieren der hochgeladenen ZIP-Datei
with zipfile.ZipFile(uploaded_file_path, 'r') as zip_ref:
    zip_ref.extractall(extract_path)

# Pfad zur Haupt-HTML-Datei in der extrahierten Struktur (angenommen index.html)
main_html_path = os.path.join(extract_path, "index.html")

# Änderungen vornehmen: Entfernen des unteren Videofensters und Korrektur der Hintergrund-Diashow
with open(main_html_path, "r") as file:
    html_content = file.read()

# Änderungen am HTML-Inhalt
updated_html_content = html_content.replace(
    '<iframe id="diashow-video-2"', 
    '<!-- Removed Video -->\n<!-- <iframe id="diashow-video-2"'
).replace(
    "background-size: cover;", 
    "background-size: contain;"  # Hintergrundbilder proportional anzeigen
)

# Aktualisierte Datei speichern
updated_html_path = "/mnt/data/Markus-Ernst-Webseite-updated.html"
with open(updated_html_path, "w") as file:
    file.write(updated_html_content)

updated_html_path
